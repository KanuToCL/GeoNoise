Category,Test,Expected,Actual,Tolerance,Passed,Reference,Timestamp,Inputs,Equation
[Shared] Spreading,Spherical @ 1m,10.99 dB,10.99 dB,±0.01 dB,PASS,ISO 9613-2 Eq.6,2026-01-12T02:18:26.439Z,d=1m,A_div = 20·log₁₀(d) + 10·log₁₀(4π) = 0 + 10.99
[Shared] Spreading,Spherical @ 10m,30.99 dB,30.99 dB,±0.01 dB,PASS,ISO 9613-2 Eq.6,2026-01-12T02:18:26.439Z,d=10m,A_div = 20·log₁₀(10) + 10.99 = 20 + 10.99
[Shared] Spreading,Spherical @ 100m,50.99 dB,50.99 dB,±0.01 dB,PASS,ISO 9613-2 Eq.6,2026-01-12T02:18:26.439Z,d=100m,A_div = 20·log₁₀(100) + 10.99 = 40 + 10.99
[Shared] Spreading,Inverse Square Law,6.02 dB/doubling,6.02 dB/doubling,±0.01 dB,PASS,Physics,2026-01-12T02:18:26.439Z,"d1=10m, d2=20m",ΔA = 20·log₁₀(d2/d1) = 20·log₁₀(2) = 6.02
[Shared] Spreading,Cylindrical @ 1m,7.98 dB,7.98 dB,±0.01 dB,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"d=1m, mode=cylindrical",A_div = 10·log₁₀(d) + 10·log₁₀(2π) = 0 + 7.98
[Shared] Spreading,Cylindrical Law,3.01 dB/doubling,3.01 dB/doubling,±0.01 dB,PASS,Physics,2026-01-12T02:18:26.439Z,"d1=10m, d2=20m, mode=cylindrical",ΔA = 10·log₁₀(d2/d1) = 10·log₁₀(2) = 3.01
[Shared] Spreading,Cylindrical @ 10m,17.98 dB,17.98 dB,±0.01 dB,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"d=10m, mode=cylindrical",A_div = 10·log₁₀(10) + 10·log₁₀(2π) = 10 + 7.98
[Shared] Spreading,Reference @ 1m,0 dB,0.00 dB,±0.01 dB,PASS,SPL@1m,2026-01-12T02:18:26.439Z,"d=1m, reference=SPL@1m",A_div = 20·log₁₀(d/d_ref) = 20·log₁₀(1) = 0
[Shared] Spreading,Reference @ 10m,20 dB,20.00 dB,±0.01 dB,PASS,SPL@1m,2026-01-12T02:18:26.439Z,"d=10m, reference=SPL@1m",A_div = 20·log₁₀(d/d_ref) = 20·log₁₀(10) = 20
[Shared] Spreading,Lw vs SPL@1m diff,10.99 dB,10.99 dB,±0.01 dB,PASS,Geometry,2026-01-12T02:18:26.439Z,"d=10m, compare Lw vs SPL@1m reference",Δ = 10·log₁₀(4π) = 10.99 dB (area of unit sphere)
[Shared] Spreading,Zero distance clamp,finite,finite,exact,PASS,Robustness,2026-01-12T02:18:26.439Z,d=0m,"d_eff = max(d, MIN_DIST) to avoid log(0)"
[Shared] Spreading,Negative distance clamp,finite,finite,exact,PASS,Robustness,2026-01-12T02:18:26.439Z,d=-10m,"d_eff = max(d, MIN_DIST) to handle invalid input"
[Shared] Spreading,Spherical @ 1km,~70.99 dB,70.99 dB,±1 dB,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,d=1000m,A_div = 20·log₁₀(1000) + 10.99 = 60 + 10.99 = 70.99
[Grid] Diffraction,Default threshold,5 m (~1λ @ 63Hz),5.00 m,exact,PASS,Issue #11,2026-01-12T02:18:26.439Z,DEFAULT_RAYTRACING_CONFIG,λ(63Hz) = c/f = 343/63 = 5.44m ≈ 5m threshold
[Grid] Diffraction,Blocked → diffract,direct blocked + 1 diffraction,"blocked=true, diff=1",exact,PASS,Issue #11,2026-01-12T02:18:26.439Z,"src=(0,0,2), rcv=(20,0,1.5), barrier x=10, h=4m","Direct path intersects barrier → blocked, diffraction path traced over top"
[Grid] Diffraction,Disabled → no diff,"direct valid, 0 diffraction","valid=true, diff=0",exact,PASS,Issue #11,2026-01-12T02:18:26.439Z,"maxDiffractionDeltaForUnblockedPath=0, barrier off-axis",Direct unblocked + threshold=0 → no diffraction traced
[Grid] Diffraction,Nearby → include,"δ < 5m, diffraction traced","δ=0.06m, traced=true",inequality,PASS,Issue #11,2026-01-12T02:18:26.439Z,"barrier h=2.5m (below line of sight), threshold=5m",δ = d_src→edge + d_edge→rcv - d_direct < threshold → include
[Grid] Diffraction,Path difference δ,2.36 m,2.36 m,±0.1 m,PASS,Geometry,2026-01-12T02:18:26.439Z,"src=(0,0,0), rcv=(20,0,0), barrier x=10, h=5m",δ = 2·√(10²+5²) - 20 = 2·11.18 - 20 = 2.36m
[Grid] Diffraction,Threshold ≈ λ(63Hz),~1.0 wavelengths,0.92 wavelengths,±20%,PASS,Wave physics,2026-01-12T02:18:26.439Z,"c=343 m/s, f=63Hz, threshold=5m","λ = c/f = 343/63 = 5.44m, ratio = threshold/λ"
[Grid] Diffraction,Multi-barrier,2 diffraction paths,2 paths,exact,PASS,Issue #11,2026-01-12T02:18:26.439Z,"src=(0,0,2), rcv=(30,0,1.5), 2 barriers at x=10,20",Each barrier generates one diffraction path
[Grid] Diffraction,Non-intersecting → null,null,null,exact,PASS,Geometry,2026-01-12T02:18:26.439Z,"src=(0,0,2), rcv=(20,0,1.5), barrier at y=10-20 (off-axis)",No intersection with source-receiver line → no diffraction
[Shared] Atmospheric,None mode @ 8kHz,0 dB,0.00 dB,exact,PASS,User setting,2026-01-12T02:18:26.439Z,"d=100m, f=8000Hz, mode=none",A_atm = 0 (absorption disabled)
[Shared] Atmospheric,"ISO 9613-1 @ 8kHz, 100m",5-20 dB,10.53 dB,range,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,"d=100m, f=8000Hz, T=20°C, RH=50%","A_atm = α(f,T,RH) · d/1000, α from ISO 9613-1 Table 2"
[Shared] Atmospheric,Frequency dependence,A_atm(8kHz) > A_atm(125Hz),10.53 > 0.04,inequality,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,"f1=125Hz, f2=8000Hz, d=100m","α ∝ f² at low freq, A_atm(8kHz) >> A_atm(125Hz)"
[Shared] Atmospheric,Diffracted path length,A_atm(150m) > A_atm(100m),15.79 > 10.53,inequality,PASS,Issue #4,2026-01-12T02:18:26.439Z,"d_direct=100m, d_actual=150m (δ=50m)","A_atm = α · d_actual/1000 (uses actual path, not direct)"
[Shared] Atmospheric,50m extra @ 8kHz,3-10 dB,5.26 dB,range,PASS,Issue #4,2026-01-12T02:18:26.439Z,"Δd=50m, f=8000Hz, α≈10.5dB/100m",ΔA_atm = α · Δd/1000 ≈ 10.5 · 0.5 = 5.26 dB
[Shared] Atmospheric,50m extra @ 125Hz,< 1 dB,0.02 dB,inequality,PASS,Issue #4,2026-01-12T02:18:26.439Z,"Δd=50m, f=125Hz, α≈0.04dB/100m",ΔA_atm = α · Δd/1000 ≈ 0.04 · 0.5 = 0.02 dB
[Shared] Barrier,Thin barrier (N=2),16.33 dB,16.33 dB,±0.1 dB,PASS,Maekawa 1968,2026-01-12T02:18:26.439Z,"δ=1m, f=343Hz, λ=1m, N=2δ/λ=2",A_bar = 10·log₁₀(3 + 20N) = 10·log₁₀(43) = 16.33 dB
[Shared] Barrier,Thick barrier (N=2),19.19 dB,19.19 dB,±0.1 dB,PASS,Issue #16,2026-01-12T02:18:26.439Z,"δ=1m, f=343Hz, λ=1m, N=2δ/λ=2, type=thick",A_bar = 10·log₁₀(3 + 40N) = 10·log₁₀(83) = 19.19 dB
[Shared] Barrier,Thin barrier cap,20 dB,20.00 dB,exact,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"δ=100m, f=8000Hz, very large N","A_bar = min(10·log₁₀(3+20N), 20) = 20 dB cap"
[Shared] Barrier,Thick barrier cap,25 dB,25.00 dB,exact,PASS,Issue #16,2026-01-12T02:18:26.439Z,"δ=100m, f=8000Hz, very large N, type=thick","A_bar = min(10·log₁₀(3+40N), 25) = 25 dB cap"
[Shared] Barrier,Frequency dependence,A_bar(8kHz) > A_bar(125Hz),25.00 > 21.73,inequality,PASS,Maekawa 1968,2026-01-12T02:18:26.439Z,"δ=5m, f1=125Hz, f2=8000Hz","N = 2δ/λ = 2δf/c, higher f → higher N → higher A_bar"
[Shared] Barrier,Negative N guard,0 dB,0 dB,exact,PASS,Maekawa 1968,2026-01-12T02:18:26.439Z,δ=-0.5m (receiver can see over barrier),N < 0 → A_bar = 0 (no barrier effect)
[Shared] Barrier,Thick > Thin,thick > thin,25.00 > 20.00,inequality,PASS,Issue #16,2026-01-12T02:18:26.439Z,"δ=5m, f=1000Hz, same geometry",Thick: 10·log₁₀(3+40N) > Thin: 10·log₁₀(3+20N)
[Shared] Barrier,Default = thin,same,same,exact,PASS,API,2026-01-12T02:18:26.439Z,"δ=5m, f=1000Hz, no type specified","barrierAttenuation(δ, f) = barrierAttenuation(δ, f, undefined, ""thin"")"
[Grid] Barrier+Ground,#3 Additive (with info),A_bar + A_gr (both calculated),"A_bar=20.00, A_gr=5.52",inequality,PASS,ISO 9613-2 §7.4,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, barrier d_s=50m, d_r=50m, h=2m",A_total = A_bar + A_gr (ISO 9613-2 §7.4 additive formula)
[Grid] Barrier+Ground,#3 Ground partitioning,Finite A_gr (partitioned),A_gr=5.52 (partitioned),finite,PASS,ISO 9613-2 §7.4,2026-01-12T02:18:26.439Z,"d_s=50m, d_r=50m, h_barrier=2m, ground=soft","A_gr = A_gr,source + A_gr,receiver (partitioned at barrier)"
[Grid] Barrier+Ground,#3 Legacy max() fallback,"max(A_bar, A_gr)","A_bar=20.00, A_gr=-4.02",finite,PASS,Legacy behavior,2026-01-12T02:18:26.439Z,"d=100m, δ=5m, f=1000Hz, no barrierInfo","A_combined = max(A_bar, A_gr) when barrierInfo not provided"
[Grid] Barrier+Ground,#3 Additive vs Max comparison,Different totals,"additive_total=76.95, legacy_total=71.43",inequality,PASS,ISO 9613-2 §7.4,2026-01-12T02:18:26.439Z,"d=100m, barrierInfo vs no barrierInfo","A_bar + A_gr differs from max(A_bar, A_gr)"
[Grid] Barrier+Ground,#3 Height affects partitioning,Different A_gr for different heights,"h=1.6: A_gr=-9.06, h=5: A_gr=18.12",inequality,PASS,ISO 9613-2 §7.4,2026-01-12T02:18:26.439Z,"h1=1.6m (low), h2=5m (high), same d_s, d_r",A_gr varies with barrier height (geometry-dependent)
[Grid] Barrier+Ground,#3 Asymmetric positioning,Different A_gr for different positions,"near-src: 9.17, near-rcv: -1.12",inequality,PASS,ISO 9613-2 §7.4,2026-01-12T02:18:26.439Z,"near-src: d_s=20m/d_r=80m, near-rcv: d_s=80m/d_r=20m","A_gr = f(d_s, d_r, h_s, h_r) - asymmetric inputs yield different A_gr"
[Shared] Speed of Sound,At 0°C,331.3 m/s,331.30 m/s,±0.1 m/s,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,T=0°C,c = 331.3 + 0.606·T = 331.3 + 0 = 331.3
[Shared] Speed of Sound,At 20°C,343.42 m/s,343.42 m/s,±0.1 m/s,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,T=20°C,c = 331.3 + 0.606·20 = 331.3 + 12.12 = 343.42
[Shared] Speed of Sound,Temperature coefficient,0.606 m/s/°C,0.606 m/s/°C,±0.001,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,"T1=15°C, T2=25°C",Δc/ΔT = (c(25) - c(15)) / 10 = 0.606 m/s/°C
[Shared] Speed of Sound,At 15°C,340.39 m/s,340.39 m/s,±0.1 m/s,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,T=15°C,c = 331.3 + 0.606·15 = 331.3 + 9.09 = 340.39
[Shared] Speed of Sound,At 25°C,346.45 m/s,346.45 m/s,±0.1 m/s,PASS,ISO 9613-1,2026-01-12T02:18:26.439Z,T=25°C,c = 331.3 + 0.606·25 = 331.3 + 15.15 = 346.45
[Shared] Speed of Sound,Constant vs formula,< 1 m/s diff,0.42 m/s,< 1 m/s,PASS,Issue #18,2026-01-12T02:18:26.439Z,"SPEED_OF_SOUND_20C=343, formula(20)=343.42",Δ = |formula - constant| = |343.42 - 343| = 0.42
[Grid] Ground,Complex addition,"(4, -2)","(4, -2)",exact,PASS,Math,2026-01-12T02:18:26.439Z,"a=(1,2), b=(3,-4)","(a+b) = (1+3, 2-4) = (4, -2)"
[Grid] Ground,Complex multiplication,"(11, 2)","(11, 2)",exact,PASS,Math,2026-01-12T02:18:26.439Z,"a=(1,2), b=(3,-4)","a·b = (1·3-2·(-4), 1·(-4)+2·3) = (11, 2)"
[Grid] Ground,Complex sqrt(i),"(0.7071, 0.7071)","(0.7071, 0.7071)",±0.001,PASS,Math,2026-01-12T02:18:26.439Z,"z = (0,1) = i","√i = e^(iπ/4) = (cos45°, sin45°) = (0.707, 0.707)"
[Grid] Ground,Delany-Bazley finite,"finite, Re > 0","Re=86.87, Im=-106.00",exact,PASS,Delany-Bazley 1970,2026-01-12T02:18:26.439Z,"f=1000Hz, σ=20000 Pa·s/m²",ζ = 1 + 9.08(f/σ)^-0.75 - j11.9(f/σ)^-0.73
[Grid] Ground,Hard ground R ≈ 1,Re > 0.9,Re=0.980,inequality,PASS,Physics,2026-01-12T02:18:26.439Z,"f=1000Hz, ground=hard, σ=20000, θ=0.5rad","Γ = (ζcosθ-1)/(ζcosθ+1), hard→ζ→∞→Γ≈1"
[Grid] Ground,Two-ray frequency variation,"finite, varies","125Hz=-4.60, 1kHz=-1.72",inequality,PASS,Two-ray model,2026-01-12T02:18:26.439Z,"d=10m, hs=hr=1.5m, ground=hard",φ = 2πfΔr/c varies with f → interference varies
[Grid] Ground,Zero distance → 0,0 dB,0 dB,exact,PASS,Robustness,2026-01-12T02:18:26.439Z,d=0m,d=0 → no path difference → A_gr=0
[Grid] Ground,Hard ground (ISO per-band),-3 dB,-3 dB,exact,PASS,ISO 9613-2 Tables 3-4,2026-01-12T02:18:26.439Z,"d=20m, hs=hr=1.5m, ground=hard","ISO 9613-2: A_gr for hard ground (G=0), clamped to min -3 dB"
[Grid] Ground,ISO Eq.10 near field,0 dB,0 dB,exact,PASS,ISO 9613-2 Eq.10,2026-01-12T02:18:26.439Z,"d=0.5m, hs=hr=1.5m",d < 30(hs+hr) → A_gr=0 (near field)
[Grid] Ground,ISO Eq.10 far field,4.4-4.8 dB,4.52 dB,range,PASS,ISO 9613-2 Eq.10,2026-01-12T02:18:26.439Z,"d=200m, hs=hr=1.5m, G=1",A_gr = 4.77 - 2.77·G·[1-e^(-d/50)] ≈ 4.77 for soft ground
[Grid] Ground (ISO),#20 Hard ground (G=0),Small |Agr| (≈ -4.5 dB from constant terms),Agr = -3.00 dB,< 5 dB magnitude,PASS,ISO 9613-2 Tables 3-4,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, G=0, f=1000Hz","Agr = As + Ar + Am, G=0 → G-terms vanish"
[Grid] Ground (ISO),#20 Soft ground (G=1),Different from hard ground,"Agr(G=1)=-2.40 dB, Agr(G=0)=-3.00 dB",> 0.5 dB difference,PASS,ISO 9613-2 Tables 3-4,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, G=1, f=1000Hz","Agr = As + Ar + Am, G=1 → full G-terms"
[Grid] Ground (ISO),#20 Mixed ground (G=0.5),Intermediate value,"G=0: -3.00, G=0.5: -2.70, G=1: -2.40",between hard and soft,PASS,ISO 9613-2 Tables 3-4,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, G=0.5, f=1000Hz",Agr(0.5) between Agr(0) and Agr(1)
[Grid] Ground (ISO),#20 Frequency dependency,Finite values across all bands,"Range: 4.06 dB (min=-2.40, max=1.66)",all finite,PASS,ISO 9613-2 Tables 3-4,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, G=1, f=[63-8000]Hz",Agr varies with frequency per Tables 3-4
[Grid] Ground (ISO),#20 Source height affects As,Different Agr for different hs,"hs=1.5m: -2.40 dB, hs=10m: -3.00 dB",> 0.01 dB difference,PASS,ISO 9613-2 Table 3,2026-01-12T02:18:26.439Z,"d=100m, hs=[1.5, 10]m, hr=1.5m, G=1, f=1000Hz",As = a + b·G·log(hs) + c·G·log(dp) + d·G
[Grid] Ground (ISO),#20 Receiver height affects Ar,Different Agr for different hr,"hr=1.5m: -2.40 dB, hr=10m: -3.00 dB",> 0.01 dB difference,PASS,ISO 9613-2 Table 3,2026-01-12T02:18:26.439Z,"d=100m, hs=1.5m, hr=[1.5, 10]m, G=1, f=1000Hz",Ar = a + b·G·log(hr) + c·G·log(dp) + d·G
[Grid] Ground (ISO),#20 Distance affects Am,Different Agr for different distances,"d=50m: -2.10 dB, d=500m: -3.00 dB",> 0.01 dB difference,PASS,ISO 9613-2 Table 4,2026-01-12T02:18:26.439Z,"d=[50, 500]m, hs=hr=1.5m, G=1, f=1000Hz","Am = a·q + b·(1-G)·q, where q = max(0, 1-30(hs+hr)/d)"
[Grid] Ground (ISO),#20 Near field (q≈0),Finite Agr (only As + Ar),Agr = -3.00 dB,finite value,PASS,ISO 9613-2 Table 4,2026-01-12T02:18:26.439Z,"d=10m, hs=hr=1.5m, G=1, f=1000Hz","q = max(0, 1-30×3/10) = max(0, -8) = 0 → Am=0"
[Grid] Ground (ISO),#20 Minimum clamp (-3 dB),Agr ≥ -3 dB,Agr = -2.77 dB,clamp check,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=0.5m, G=1, f=1000Hz","Agr = max(-3, As + Ar + Am)"
[Grid] Ground (ISO),#20 groundEffect() integration,Same result as direct call,"Direct: -2.40 dB, Wrapped: -2.40 dB",< 0.001 dB difference,PASS,Issue #20 fix,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, GroundType.Soft, f=1000Hz",groundEffect() calls agrISO9613PerBand() with G=1 for soft
[Grid] Ground (ISO),#20 GroundType → G mapping,Matches direct calls with G values,"Hard: true, Mixed: true, Soft: true",< 0.001 dB each,PASS,Issue #20 fix,2026-01-12T02:18:26.439Z,"d=100m, all ground types, f=1000Hz","Hard→G=0, Mixed→G=0.5, Soft→G=1"
[Grid] Ground (ISO),#20 Finite across octave bands,All values finite,"63Hz=-2.40, 125Hz=-2.40, 250Hz=-2.40, 500Hz=-2.40, 1000Hz=-2.40, 2000Hz=1.66, 4000Hz=1.66, 8000Hz=1.66",exact,PASS,Robustness,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=1.5m, G=1, f=[63-8000]Hz",All bands use Tables 3-4 coefficients
[Grid] Ground (ISO),#20 Edge case distances,Finite values,"d=0.5m: -3.00 dB, d=5000m: -3.00 dB",finite,PASS,Robustness,2026-01-12T02:18:26.439Z,"d=[0.5, 5000]m, hs=hr=1.5m, G=1, f=1000Hz",Handle extreme near and far field
[Grid] Ground (ISO),#20 Edge case heights,Finite values,"h=0.1m: -1.39 dB, h=50m: -3.00 dB",finite,PASS,Robustness,2026-01-12T02:18:26.439Z,"d=100m, hs=hr=[0.1, 50]m, G=1, f=1000Hz",Handle very low and high geometries
[Probe] Phasor,dB to pressure (94 dB),1.00 Pa,1.00 Pa,±0.01 Pa,PASS,Acoustics,2026-01-12T02:18:26.439Z,"L=94 dB, P_ref=20µPa",p = P_ref · 10^(L/20) = 2e-5 · 10^4.7 = 1.0 Pa
[Probe] Phasor,Pressure to dB (1 Pa),94 dB,93.98 dB,±0.1 dB,PASS,Acoustics,2026-01-12T02:18:26.439Z,"p=1.0 Pa, P_ref=20µPa",L = 20·log₁₀(p/P_ref) = 20·log₁₀(50000) = 93.98 dB
[Probe] Phasor,Constructive (in-phase),26 dB,26.02 dB,±0.1 dB,PASS,Physics,2026-01-12T02:18:26.439Z,"p1=p2=P_ref×10, φ1=φ2=0","|p1+p2| = 2p, L = 20·log₁₀(2) + 20 = 6 + 20 = 26 dB"
[Probe] Phasor,Destructive (anti-phase),deep null (< -100 dB),-298.2 dB,inequality,PASS,Physics,2026-01-12T02:18:26.439Z,"p1=p2=P_ref×10, φ1=0, φ2=π",|p·e^0 + p·e^(jπ)| = |p - p| = 0 → -∞ dB
[Probe] Phasor,Quadrature (90°),23 dB,23.01 dB,±0.2 dB,PASS,Physics,2026-01-12T02:18:26.439Z,"p1=p2=P_ref×10, φ1=0, φ2=π/2","|p + jp| = p√2, L = 20 + 10·log₁₀(2) = 23 dB"
[Probe] Phasor,Phase from λ/2 path diff,-3.1416 rad,-3.1416 rad,±0.01 rad,PASS,Wave physics,2026-01-12T02:18:26.439Z,"f=1000Hz, c=343m/s, Δd=λ/2=0.1715m",φ = -2πΔd/λ = -2π·0.5 = -π rad
[Probe] Phasor,Wavelength @ 343 Hz,1 m,1.0000 m,±0.01 m,PASS,Wave physics,2026-01-12T02:18:26.439Z,"f=343Hz, c=343m/s",λ = c/f = 343/343 = 1.0 m
[Probe] Phasor,Fresnel radius @ midpoint,2.93 m,2.93 m,±0.01 m,PASS,Wave physics,2026-01-12T02:18:26.439Z,"d1=d2=50m, f=1000Hz, c=343m/s",r_F = √(λ·d1·d2/(d1+d2)) = √(0.343·50·50/100) = 2.93m
[Shared] Weighting,A @ 1kHz = 0,0 dB,0 dB,exact,PASS,IEC 61672-1,2026-01-12T02:18:26.439Z,f=1000Hz,IEC 61672-1 A-weight reference: A(1000Hz) = 0 dB
[Shared] Weighting,A @ 63Hz,-26.2 dB,-26.2 dB,exact,PASS,IEC 61672-1,2026-01-12T02:18:26.439Z,f=63Hz,IEC 61672-1 Table 1: A(63Hz) = -26.2 dB
[Shared] Weighting,A boost 2-4kHz,> 0 dB,"2kHz=1.2, 4kHz=1",inequality,PASS,IEC 61672-1,2026-01-12T02:18:26.439Z,"f=2000Hz, 4000Hz",IEC 61672-1: slight boost at 2-4kHz (ear sensitivity peak)
[Shared] Weighting,C flat 250-1kHz,0 dB,"250=0, 500=0, 1k=0",exact,PASS,IEC 61672-1,2026-01-12T02:18:26.439Z,"f=250, 500, 1000Hz",IEC 61672-1: C-weight is flat (0 dB) in mid-band
[Shared] Weighting,Z = 0 all bands,all 0,all 0,exact,PASS,IEC 61672-1,2026-01-12T02:18:26.439Z,f=all bands,"Z-weighting = 0 dB (unweighted, flat response)"
[Grid] Combined,SPL at 10m (spreading),~69 dB,69.0 dB,±1 dB,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"Lw=100dB, d=10m, no atm/ground",SPL = Lw - A_div = 100 - 30.99 = 69 dB
[Grid] Combined,SPL at 100m (spreading),~49 dB,49.0 dB,±1 dB,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"Lw=100dB, d=100m, no atm/ground",SPL = Lw - A_div = 100 - 50.99 = 49 dB
[Grid] Combined,Monotonic decrease,decreasing,decreasing,exact,PASS,Physics,2026-01-12T02:18:26.439Z,"d = [5, 10, 20, 40, 80] m",SPL(d1) > SPL(d2) when d1 < d2 (always)
[Grid] Combined,Blocked → MIN_LEVEL,-100 dB,-100 dB,exact,PASS,API,2026-01-12T02:18:26.439Z,blocked=true,"If blocked, return MIN_LEVEL = -100 dB"
[Grid] Combined,MAX_DISTANCE → blocked,blocked=true,blocked=true,exact,PASS,API,2026-01-12T02:18:26.439Z,d=15000m (> MAX_DISTANCE),d > MAX_DISTANCE → blocked=true
[Grid] Issue #5,#5 Side diffraction at ground level,Side path delta > Over-top delta (2.56 > 0.62),"Around-left delta = 2.56, Over-top delta = 0.62",geometry,PASS,Issue #5: Side diffraction at ground level,2026-01-12T02:18:26.439Z,"src=(0,0,1.5), rcv=(0,20,1.5), barrier 10m wide, 4m tall",δ_side = d(src→edge@z=0) + d(edge→rcv) - d_direct
[Grid] Issue #5,#5 Around-ends vs over-top comparison,Around delta (0.05) < Over-top delta (1.43),"Around-right = 0.05, Over-top = 1.43",geometry,PASS,Issue #5: Finite barrier considers all paths,2026-01-12T02:18:26.439Z,"src=(-50,0,1.5), rcv=(50,0,1.5), barrier 2m wide, 10m tall",δ_around = d(src→edge@ground) + d(edge→rcv) - d_direct
[Grid] Issue #5,#5 Side diffraction at ground level,Edge at z=0 (ground),Edge at z=groundElevation (implemented),implementation,PASS,Issue #5: computeSidePathDelta uses groundElevation=0,2026-01-12T02:18:26.439Z,"src=(0,0,2), rcv=(10,0,2), edge=(5,5,z)",δ_side = d(src→edge@z=0) + d(edge@z=0→rcv) - d_direct
[Grid] Issue #5,#5 Auto mode threshold (50m),"Short=true, Long=false","Short=true, Long=false",threshold,PASS,Issue #5: Auto-mode side diffraction,2026-01-12T02:18:26.439Z,"shortBarrierLength=30m, longBarrierLength=80m, threshold=50m",useSide = barrierLength < 50m
[Grid] Issue #5,#5 Minimum path selection,Min delta = top (1.11),"Left=2.16, Right=2.16, Top=1.11",geometry,PASS,Issue #5: Algorithm selects minimum delta,2026-01-12T02:18:26.439Z,"S=(-4,0,1.5), R=(4,20,1.5), barrier=(-5,10)-(5,10) h=5m","δ = d_source-edge + d_edge-receiver - d_direct; select min(δ_left, δ_right, δ_top)"
[Shared] Issue #6,#6 Low f/σ ratio (hard surface),f/σ < 0.01 → high impedance (Re > 50),"f/σ=0.000625, ζ=(100.0, 0.0)",inequality,PASS,"Delany-Bazley 1970, Issue #6",2026-01-12T02:18:26.439Z,"f=125Hz, σ=200000 Pa·s/m², f/σ=0.000625","ζ = 1 + 9.08(f/σ)^-0.75 - j·11.9(f/σ)^-0.73, low f/σ → high Re(ζ)"
[Shared] Issue #6,#6 High f/σ ratio (Miki extension),f/σ > 1.0 → Miki: Re≈5.09,"f/σ=1.60, ζ=(5.09, -6.26)",±0.1,PASS,"Miki 1990, Issue #6",2026-01-12T02:18:26.439Z,"f=8000Hz, σ=5000 Pa·s/m², f/σ=1.6",ζ = 1 + 5.50(f/σ)^-0.632 - j·8.43(f/σ)^-0.632 (Miki 1990)
[Shared] Issue #6,#6 Valid range (standard D-B),0.01 < f/σ < 1.0 → standard D-B,"f/σ=0.050, ζ=(86.9, -106.0)",±1,PASS,Delany-Bazley 1970,2026-01-12T02:18:26.439Z,"f=1000Hz, σ=20000 Pa·s/m², f/σ=0.05",ζ = 1 + 9.08(f/σ)^-0.75 - j·11.9(f/σ)^-0.73 (Delany-Bazley 1970)
[Shared] Issue #6,#6 Finite for all inputs,All impedances finite,"f/σ=0.0001: OK, f/σ=16.0000: OK, f/σ=0.0500: OK, f/σ=0.0100: OK",exact,PASS,Robustness,2026-01-12T02:18:26.439Z,"f/σ ∈ {0.000063, 16, 0.05, 0.01}","All ζ must be finite: Re(ζ)≠±∞, Im(ζ)≠±∞, no NaN"
[Shared] Issue #6,#6 Hard surface |Γ| ≈ 1,|Γ| > 0.9,|Γ| = 0.961,inequality,PASS,Physics,2026-01-12T02:18:26.439Z,"f=1000Hz, σ=500000 (very hard), θ=0.5rad","|Γ| = |(ζcosθ-1)/(ζcosθ+1)|, ζ→∞ → |Γ|→1"
[Shared] GAP-Moderate,#7 Terrain elevation,"groundZ = terrain(x,y)",groundZ = 0 (flat),NOT IMPLEMENTED,FAIL,Terrain model,2026-01-12T02:18:26.439Z,"Ground reflection point (x,y)","z_ground = terrainHeight(x,y) instead of z_ground = 0"
[Shared] GAP-Moderate,#9 Wall reflection Z,Z from image geometry,Z clamped arbitrarily,NOT IMPLEMENTED,FAIL,Image source method,2026-01-12T02:18:26.439Z,Wall reflection geometry,Z should interpolate along R→S' image line
[Shared] Issue #12,#12 Soft ground = σ_soft,σ = 20000,"ISO: 20000, Log: 20000",exact,PASS,Ground impedance,2026-01-12T02:18:26.439Z,"groundType=soft, σ_soft=20000",σ_eff = σ_soft (no interpolation needed)
[Shared] Issue #12,#12 Hard ground = σ → ∞,σ ≥ 1e8,"ISO: 1.0e+9, Log: 1.0e+9",inequality,PASS,Ground impedance,2026-01-12T02:18:26.439Z,"groundType=hard, σ_hard=1e9",σ_eff = σ_hard ≈ ∞ (rigid surface approximation)
[Shared] Issue #12,#12 ISO model (σ/G),σ = 40000,σ = 40000,±1,PASS,ISO 9613-2,2026-01-12T02:18:26.439Z,"σ_soft=20000, G=0.5",ISO 9613-2: σ_eff = σ_soft / G = 20000 / 0.5 = 40000
[Shared] Issue #12,#12 Log model (geometric mean),σ = 4.47e+6,σ = 4.47e+6,±1%,PASS,Log interpolation,2026-01-12T02:18:26.439Z,"σ_soft=20000, σ_hard=1e9, G=0.5",σ = σ_soft^G · σ_hard^(1-G) = √(σ_soft·σ_hard)
[Shared] Issue #12,#12 Models produce different σ,Significant difference,"ISO: 40000, Log: 4.47e+6",inequality,PASS,Model comparison,2026-01-12T02:18:26.439Z,"G=0.5, σ_soft=20000, σ_hard=1e9",ISO: σ/G=40k vs Log: √(σ_soft·σ_hard)=4.47e6
[Shared] Issue #12,#12 G=1 gives σ_soft,σ ≈ 20000,"ISO: 20000, Log: 20000",±1,PASS,Boundary condition,2026-01-12T02:18:26.439Z,"G=1.0 (100% soft), σ_soft=20000","ISO: σ_soft/1=σ_soft, Log: σ_soft^1·σ_hard^0=σ_soft"
[Shared] Issue #12,#12 G≈0 gives high σ,σ >> σ_soft,"ISO: 2.00e+6, Log: 8.97e+8",inequality,PASS,Boundary condition,2026-01-12T02:18:26.439Z,"G=0.01 (99% hard), σ_soft=20000","ISO: σ_soft/0.01=2e6, Log: σ_soft^0.01·σ_hard^0.99≈σ_hard"
[Grid] Issue #2,#2 Negative A_gr possible,At least one A_gr < 0 (constructive),A_gr=-5.88 dB at 125 Hz,existence,PASS,Two-ray interference,2026-01-12T02:18:26.439Z,"d=50m, hs=1.5m, hr=1.5m, ground=hard, σ=20000","A_gr = -20·log₁₀|1 + Γ·(r₁/r₂)·e^(jφ)|, when |...| > 1 → A_gr < 0"
[Grid] Issue #2,#2 Positive A_gr possible,At least one A_gr > 0 (destructive),A_gr=6.62 dB at 2000 Hz,existence,PASS,Two-ray interference,2026-01-12T02:18:26.439Z,"d=50m, hs=1.5m, hr=1.5m, ground=soft, σ=20000","A_gr = -20·log₁₀|1 + Γ·(r₁/r₂)·e^(jφ)|, when |...| < 1 → A_gr > 0"
[Grid] Issue #2,#2 Comb filtering pattern,> 3 dB variation across frequencies,"Range: 10.11 dB (min=-5.93, max=4.18)",> 3 dB,PASS,Two-ray interference,2026-01-12T02:18:26.439Z,"d=100m, hs=2m, hr=1.5m, Δr=0.060m","φ = 2πfΔr/c, constructive when φ≈2πn, destructive when φ≈(2n+1)π"
[Grid] Issue #2,#2 Hard vs Soft interference,Hard ground has stronger interference,"Hard range: 6.74 dB, Soft range: 8.18 dB",comparison,PASS,Reflection coefficient physics,2026-01-12T02:18:26.439Z,"d=50m, hs=2m, hr=1.5m, f=[125..2000]Hz","Hard: |Γ|≈1 → stronger interference, Soft: |Γ|<1 → weaker"
[Grid] Issue #2,#2 Near-field minimal effect,|A_gr| < 5 dB at 1m,A_gr = 0.51 dB,< 5 dB,PASS,Near-field geometry,2026-01-12T02:18:26.439Z,"d=1m, hs=hr=1.5m, f=1000Hz","Near field: Δr ≈ 0, phase diff ≈ 0 → minimal interference"
[Grid] Issue #2,#2 Zero distance guard,0 dB,0 dB,exact,PASS,Robustness,2026-01-12T02:18:26.439Z,d=0m,d=0 → degenerate geometry → return 0
[Grid] Issue #2,#2 Finite across parameter sweep,All values finite,All finite,exact,PASS,Robustness,2026-01-12T02:18:26.439Z,"d=[1..500]m, hs=[0.1..10]m, f=[63..4000]Hz, ground=[hard,mixed,soft]",All combinations must return finite A_gr (no NaN/Infinity)
[Probe] Issue #14,#14 Diffraction phase = -π/4,-0.7854 rad,-0.7854 rad,±0.001 rad,PASS,GTD knife-edge,2026-01-12T02:18:26.439Z,"Barrier blocks direct path, any geometry",GTD/UTD knife-edge: Ψ_diff = -π/4 rad = -45°
[Probe] Issue #14,#14 Phase independent of barrier height,Same phase for all heights,"Low: -0.7854, High: -0.7854",exact,PASS,Current implementation,2026-01-12T02:18:26.439Z,"h_low=3m, h_high=10m, same src/rcv geometry","ψ = -π/4 (constant, does not vary with barrier height)"
[Probe] Issue #14,#14 Phase independent of path diff,Same phase for all geometries,"Near: -0.7854, Far: -0.7854",exact,PASS,Current implementation,2026-01-12T02:18:26.439Z,"rcv_near=12m, rcv_far=50m from source","ψ = -π/4 (constant, does not vary with path difference)"
[Probe] Issue #14,#14 Phase is -45°,-45°,-45.00°,±0.1°,PASS,Unit conversion,2026-01-12T02:18:26.439Z,ψ = -π/4 rad,ψ_deg = ψ_rad × 180/π = -π/4 × 180/π = -45°
[Probe] Issue #14,#14 Phase in coherent sum,~25.3 dB,25.33 dB,±1 dB,PASS,Phasor summation,2026-01-12T02:18:26.439Z,"p1=P_REF×10 @ φ=0, p2=P_REF×10 @ φ=-π/4",p_sum = |p·e^0 + p·e^(-jπ/4)| = p·|1 + 0.707 - j0.707| = 1.85p → +5.3dB
[Probe] Issue #14,#14 Limitation: constant phase,Same -π/4 for all angles (documented limitation),"Shallow: -0.7854, Deep: -0.7854",limitation documented,PASS,Issue #14 documentation,2026-01-12T02:18:26.439Z,shallow shadow vs deep shadow geometry,ψ = -π/4 always (UTD would use ψ = f(shadow_angle))
[Shared] GAP-Minor,#13 Sommerfeld continuity,Smooth blend 0.5≤|w|≤6,Discontinuity at |w|=4,NOT IMPLEMENTED,FAIL,Sommerfeld ground wave,2026-01-12T02:18:26.439Z,"Numerical distance w, transition region 0.5≤|w|≤6",F(w) should blend smoothly between plane-wave and asymptotic forms
[Shared] GAP-Minor,#17 Spectral ground absorption,0.10-0.60 per frequency,0.2 (single value),NOT IMPLEMENTED,FAIL,ISO 9613-2 Table 2,2026-01-12T02:18:26.439Z,"f=[63..8000]Hz, ISO 9613-2 Table 2",a_gr(f) varies: 0.10@63Hz to 0.60@8kHz
[Shared] GAP-Minor,#19 Pre-computed diffraction,spectralDiffractionLoss[],diffractionLoss = 0,NOT IMPLEMENTED,FAIL,API design,2026-01-12T02:18:26.439Z,RayPath.diffractionLoss field,"A_bar[f] = 10·log₁₀(3 + C·N), pre-computed per band"
[Probe] Probe,Simple @ 10m,60-90 dB,76.2 dB,range,PASS,Probe API,2026-01-12T02:18:26.439Z,"Lw=100dB flat, d=10m",SPL ≈ Lw - 20·log₁₀(d) - 11 = 100 - 20 - 11 = 69 dB + weighting
[Probe] Probe,Simple @ 100m,40-70 dB,56.2 dB,range,PASS,Probe API,2026-01-12T02:18:26.439Z,"Lw=100dB flat, d=100m",SPL ≈ Lw - 20·log₁₀(d) - 11 = 100 - 40 - 11 = 49 dB + weighting
[Probe] Probe,Inverse square law,5-7 dB/doubling,6.01 dB,range,PASS,Physics,2026-01-12T02:18:26.439Z,"d1=10m, d2=20m",ΔL = 20·log₁₀(d2/d1) = 20·log₁₀(2) = 6.02 dB
[Probe] Probe,Zero sources → floor,35 dB,35 dB,exact,PASS,Probe API,2026-01-12T02:18:26.439Z,sources=[],No sources → return ambient floor (35 dB)
[Probe] Probe,Two sources +3 dB,~3 dB,3.01 dB,±1 dB,PASS,Energetic sum,2026-01-12T02:18:26.439Z,2 equal sources equidistant from probe,L_sum = L_single + 10·log₁₀(2) = L + 3.01 dB
[Probe] Probe,Coherent @ 10m,50-90 dB,76.2 dB,range,PASS,Issue #2b,2026-01-12T02:18:26.439Z,"Lw=100dB, d=10m, coherent mode",Coherent sum includes phase: p_total = Σ p_i·e^(jφ_i)
[Probe] Probe,Ground adds paths,more paths with ground,"with=2, without=1",inequality,PASS,Two-ray,2026-01-12T02:18:26.439Z,ground=true vs ground=false,Ground reflection adds 1 path per source (two-ray model)
[Probe] Probe,Default config,"ground=true, mixed, coherent=true, T=20","ground=true, mixed, coherent=true, T=20",exact,PASS,API,2026-01-12T02:18:26.439Z,DEFAULT_PROBE_CONFIG,Factory defaults for probe computation